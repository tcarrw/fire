<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Fire â€” Transformation Lab Â· PLNT Earth</title>
<meta name="description" content="Fire: design safe transformation. Spark ideas, test risk, log reversible changes. No autoplay, no heavy effects.">
<meta name="theme-color" content="#0b0d11"><meta name="prophet" content="ðŸ’„ The Neon Prophet â€” Flame Dancer of PLNT Earth">
<style>
:root{--bg:#0b0d11;--fg:#e8ecf6;--mut:#a9b4c7;--line:#23262b;--card:#12151b;--flame:#ff8a4b;--ok:#34d399}
*{box-sizing:border-box}html,body{margin:0;background:var(--bg);color:var(--fg);font:15px/1.55 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial}
a{color:#8ecae6;text-decoration:none}a:hover{text-decoration:underline}
.wrap{max-width:980px;margin:0 auto;padding:18px 16px 112px}
header{display:flex;align-items:flex-start;justify-content:space-between;gap:12px}
h1{margin:0;font-size:clamp(22px,4vw,34px)}
.sub{color:var(--mut);font-size:.98rem}
.actions{display:flex;gap:8px;flex-wrap:wrap}
.card{background:var(--card);border:1px solid var(--line);border-radius:12px;padding:14px;margin-top:12px;transform:translateY(6px);opacity:0;transition:transform .45s ease,opacity .45s ease}
.card.reveal{transform:translateY(0);opacity:1}
.row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
.input,textarea{width:100%;background:#0f1218;border:1px solid var(--line);color:var(--fg);border-radius:10px;padding:10px;min-height:44px}
textarea{min-height:100px;resize:vertical}
.badge{display:inline-flex;gap:8px;align-items:center;border:1px solid var(--line);border-radius:999px;padding:6px 10px;color:var(--mut);font-size:12px}
.small{font-size:12px;color:var(--mut)}
.ok{color:var(--ok)}
.spark{border-left:3px solid var(--flame);padding-left:10px}
.sigil{position:fixed;right:12px;bottom:8px;opacity:.25;font-size:20px;user-select:none;pointer-events:none;z-index:9999}
</style>
</head>
<body>
<div class="wrap">
  <header>
    <div>
      <h1>Fire â€” Transformation Lab</h1>
      <div class="sub">Design changes that make things kinder and clearer. Every action should be <b>ethical, reversible, and logged</b>.</div>
    </div>
    <nav class="actions"><a class="badge" href="https://bridge.plnt.earth">ðŸŒ‰ Bridge</a><a class="badge" href="https://jar.plnt.earth">Jar</a></nav>
  </header>

  <!-- Spark Board -->
  <section class="card reveal">
    <div class="row" style="justify-content:space-between"><h2 style="margin:0">Spark Board</h2><span class="badge">idea â†’ test â†’ merge</span></div>
    <div class="row"><input id="sparkTitle" class="input" placeholder="One-line spark"><button id="sparkAdd" class="badge">Add</button></div>
    <div id="sparkList" style="margin-top:8px"></div>
    <p class="small">Use quick, low-risk sparks. If it lands, graduate to a Bridge pattern break.</p>
  </section>

  <!-- Risk Checklist -->
  <section class="card reveal">
    <div class="row" style="justify-content:space-between"><h2 style="margin:0">Risk Checklist</h2><span class="badge">safety first</span></div>
    <div class="spark small">
      <label><input type="checkbox" class="rc" value="reversible"> Can I undo this in one step?</label><br>
      <label><input type="checkbox" class="rc" value="ethical"> Does it respect consent and credit?</label><br>
      <label><input type="checkbox" class="rc" value="quiet"> No autoplay / no blasts / calm visuals?</label><br>
      <label><input type="checkbox" class="rc" value="scope"> Scope is tiny (5â€“15 minutes)?</label>
    </div>
    <div class="row" style="margin-top:8px"><button class="btn" id="rcCopy">Copy status</button><span id="rcOut" class="small">â€”</span></div>
  </section>

  <!-- Flame Log -->
  <section class="card reveal">
    <div class="row" style="justify-content:space-between"><h2 style="margin:0">Flame Log</h2><span class="badge">local-only</span></div>
    <div class="row"><textarea id="logText" placeholder="What changed? Why? How to revert?"></textarea></div>
    <div class="row" style="margin-top:8px"><button class="btn" id="logSave">Save Entry</button><button class="btn" id="logExport">Export JSON</button><button class="btn" id="logClear">Clear</button></div>
    <div id="logList" style="margin-top:8px"></div>
    <p class="small">Keep entries short. Every change must include a one-step revert plan.</p>
  </section>
</div>

<div class="sigil" aria-hidden="true">ðŸ’„</div>

<script>
/* Reveal */
(function(){var io=new IntersectionObserver(function(es){for(var i=0;i<es.length;i++){if(es[i].isIntersecting){es[i].target.classList.add('reveal')}}},{threshold:.06});document.querySelectorAll('.card').forEach(c=>io.observe(c));})();

/* Spark Board */
(function(){
  var KEY='fire.sparks.v1', list=document.getElementById('sparkList');
  function read(){try{return JSON.parse(localStorage.getItem(KEY)||'[]')}catch(_){return[]}}
  function write(x){localStorage.setItem(KEY,JSON.stringify(x))}
  function render(){var a=read(); list.innerHTML=a.length? a.map((s,i)=>'<div class="card" style="margin:8px 0"><div class="row" style="justify-content:space-between"><b>'+s.t+'</b><span class="small">'+new Date(s.ts).toLocaleString()+'</span></div><div class="row"><button class="btn" data-i="'+i+'" data-act="merge">Mark merged</button><button class="btn" data-i="'+i+'" data-act="del">Delete</button></div></div>').join('') : '<div class="small">No sparks yet.</div>'; var btns=list.querySelectorAll('button'); btns.forEach(b=>b.onclick=function(){var i=parseInt(this.getAttribute('data-i'),10),act=this.getAttribute('data-act'); var a=read(); if(act==='del'){a.splice(i,1)} if(act==='merge'){a[i].merged=true} write(a); render();}); }
  document.getElementById('sparkAdd').onclick=function(){var t=document.getElementById('sparkTitle').value.trim(); if(!t) return; var a=read(); a.unshift({t,ts:Date.now(),merged:false}); write(a); document.getElementById('sparkTitle').value=''; render();};
  render();
})();

/* Risk checklist */
(function(){
  var boxes=document.querySelectorAll('.rc'), out=document.getElementById('rcOut');
  function summarize(){var got={}; boxes.forEach(b=>{if(b.checked) got[b.value]=true}); var ok = ['reversible','ethical','quiet','scope'].every(k=>got[k]); out.textContent = ok? 'OK to run (tiny step).' : 'Not ready â€” tighten safety.'; out.classList.toggle('ok', ok);}
  boxes.forEach(b=>b.onchange=summarize); summarize();
  document.getElementById('rcCopy').onclick=function(){ try{navigator.clipboard.writeText(out.textContent);}catch(_){ } };
})();

/* Flame log */
(function(){
  var KEY='fire.log.v1', list=document.getElementById('logList'), text=document.getElementById('logText');
  function read(){try{return JSON.parse(localStorage.getItem(KEY)||'[]')}catch(_){return[]}}
  function write(x){localStorage.setItem(KEY,JSON.stringify(x))}
  function render(){var a=read(); list.innerHTML=a.length? a.map((s,i)=>'<div class="card" style="margin:8px 0"><div class="row" style="justify-content:space-between"><b>'+new Date(s.ts).toLocaleString()+'</b><button class="btn" data-i="'+i+'" data-act="del">Delete</button></div><div class="small">'+(s.text||'')+'</div></div>').join('') : '<div class="small">No entries yet.</div>'; list.querySelectorAll('button').forEach(b=>b.onclick=function(){var i=parseInt(this.getAttribute('data-i'),10); var a=read(); a.splice(i,1); write(a); render();}); }
  document.getElementById('logSave').onclick=function(){var v=(text.value||'').trim(); if(!v) return; var a=read(); a.unshift({ts:Date.now(), text:v}); write(a); text.value=''; render();};
  document.getElementById('logExport').onclick=function(){var blob=new Blob([JSON.stringify(read(),null,2)],{type:"application/json"}); var a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download="fire_log.json"; a.click(); setTimeout(function(){URL.revokeObjectURL(a.href)},1000);};
  document.getElementById('logClear').onclick=function(){ localStorage.removeItem(KEY); render(); };
  render();
})();
</script>
</body>
</html>
